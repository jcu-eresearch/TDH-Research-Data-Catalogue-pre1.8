{
    "stages":{
        "jcu-self-submission-draft":{
            "divs":[
                {
                    "heading":"Content",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-title",
                            "help":"jcu-self-submission.field.help.dc-title",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type": "textarea",
                            "field-name": "dc:title",
                            "label": "",
                            "validation": {
                                            "save-rules": ["required"],
                                            "validation-id": "dc:title",
                                            "focus-id": "dc:title",
                                            "validation-messages":{"required": "Title is required"}
                                           }
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.rif-description",
                            "help":"jcu-self-submission.field.help.rif-description",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"rif:description",
                            "sub-elements":{"settings":[
                                                {"jaffaDropDown":{"label":"Type",
                                                                  "suffix":"type", 
                                                                  "field":"type", 
                                                                  "label-field":"label",
                                                                  "label-field-suffix":"label",                                                                  
                                                                  "json-data-url":"$portalPath/workflows/forms/data/descriptionTypes.json",
                                                                  "data-id-key":"id",
                                                                  "data-label-key":"label",
                                                                  "data-list-key":"results",                                                                  
                                                                  "mandatory":"true"}},
                                                 {"jaffaText":{"textarea": {"rows":6, "cols":80}, "label":"Description", "class-list":"jaffa-field", "suffix":"value", "placeholder":"eg. This dataset contains observational data and calibration files."}}
                                                ]
                                            },
                            "add-item-text":"Add description",
                            "additional-classes":"containerLayout"
                        },           
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-type.rdf-PlainLiteral",
                            "help":"jcu-self-submission.field.help.dc-type.rdf-PlainLiteral",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"data-source-dropdown",
                            "label":"",
                            "field-name":"dc:type.rdf:PlainLiteral",
                            "field-name-label":"dc:type.skos:prefLabel",
                            "sourceUrl":"workflows/forms/data/types.json",
                            "mandatory":"true",
                            "idKey":"id",
                            "labelKey":"label",
                            "listKey":"results",
                            "validation": {
                                            "save-rules": ["required"],
                                            "validation-id": "dc:type.rdf:PlainLiteral",
                                            "focus-id": "dc:type.rdf:PlainLiteral",
                                            "validation-messages":{"required": "Collection Type is required"}
                                           }        
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"Coverage",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-coverage.vivo-DateTimeInterval",
                            "help":"jcu-self-submission.field.help.dc-coverage.vivo-DateTimeInterval",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-coverage.vivo-DateTimeInterval.From",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:coverage.vivo:DateTimeInterval.vivo:start",
                            "label":"",
                            "placeholder":"eg. 1990",
                            "additional-classes":"dateYMD"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-coverage.vivo-DateTimeInterval.To",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:coverage.vivo:DateTimeInterval.vivo:end",
                            "label":"",
                            "placeholder":"eg. 2010",
                            "additional-classes":"dateYMD"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-coverage.redbox-timePeriod",
                            "help":"jcu-self-submission.field.help.dc-coverage.redbox-timePeriod",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:coverage.redbox:timePeriod",
                            "label":"",
                            "placeholder":"eg. 21st Century, WWII, The Depression, etc.",
                            "size":"60"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-coverage.vivo-GeographicLocation"
                            "help":"jcu-self-submission.field.help.dc-coverage.vivo-GeographicLocation",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"native-html",
                            "content":"<div class='openLayersHolder'>
        <div class='article'>
            <p class='meta attribution'>Map Credits: <span id='attribution'></span></p>
            <div id='polygonHelp' class='hidden'>
                <div><span class='ui-button-icon-primary ui-icon ui-icon-lightbulb'></span></div>
                Use double-click to 'close' your polygon.
            </div>
            <div class='mapHolder'>
                <div id='panel' class='olControlEditingToolbar'></div>
                <div id='map' class='smallmap' style='width:512px; height:256px'></div>
            </div>
            <div class='lookupHolder'>
                <label for='geonamesLookup'>Find location: </label>
                <input type='text' size='40' placeholder='Place name' id='geonamesLookup' />
            </div>
        </div>
    </div>"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:coverage.vivo:GeographicLocation",
                            "additional-classes":"containerLayout redboxGeoData",
                            "add-item-text":"Add location",
                            "sub-elements":{"settings":[
                                                {"jaffaDropDown":{"label":"Location Type", "suffix":"dc:type", "field":"dc:type", "label-field":"dc:type", 
                                                                  "label-field-suffix":"dc:type", "json-data-url":"$portalPath/workflows/forms/data/locationTypesSelfSubmission.json", 
                                                                  "data-id-key":"id", "data-label-key":"label", "data-list-key":"results", "mandatory":"true",
                                                                  "class-list":"locationType"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field redboxGeoDataFid","suffix": "redbox:Fid"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field redboxGeoDataWkt","suffix": "redbox:wktRaw"}},                 
                                                 {"jaffaText":{"label":"Value","type":"text","class-list":"jaffa-field redboxGeoDataOutput autocomplete-geonames","suffix":"rdf:PlainLiteral",
                                                               "placeholder":"eg. coordinates or placename","size":"60"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field","suffix":"dc:identifier"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field","suffix":"geo:long"}},
                                                 {"jaffaText":{"label":"","type":"hidden","class-list":"jaffa-field","suffix":"geo:lat"}}
                                                ]
                                            }
                        },
                        {
                            "component-type":"native-html",
                            "content":"
                                        <div class='hidden coords' id='dc:coverage.vivo:GeographicLocation.0.coords'>
                                            <a class='map-link' target='_blank' href=''>map</a>
                                            @ longitude: <span class='east'> </span>
                                            , latitude: <span class='north'> </span>
                                            | <a class='clear-link' href='#'>clear</a>
                                        </div>"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button><button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"People",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-creator.foaf-person"
                            "help":"jcu-self-submission.field.help.dc-creator.foaf-person",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type": "repeatable-container",
                            "containter-for": "dc:creator.foaf:Person",
                            "sub-elements": {
                                "settings": [
                                    {
                                        "jaffaPeople": {
                                            "source":"nla,mint",
                                            "label":"",
                                            "class-list":"jaffa-field",
                                            "suffix":""
                                        }
                                    }
                                ]
                            }
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.locrel-prc.foaf-person"
                            "help":"jcu-self-submission.field.help.locrel-prc.foaf-person",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type": "person",
                            "lookup-name": "locrel:prc.foaf:Person",
                            "lookup-only": "false",
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-contributor.locrel-clb.foaf-Agent"
                            "help":"jcu-self-submission.field.help.dc-contributor.locrel-clb.foaf-Agent",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:contributor.locrel:clb",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"", "class-list":"jaffa-field", "suffix":"foaf:Agent", "size":"60", "placeholder":"e.g. CSIRO, University of X, Prof. Jim Bloggs, etc."}}
                                                ]
                                           },
                            "add-item-text":"Add collaborator",                                                
                            "additional-classes":"containerLayout"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button><button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"Data Management",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.vivo-Location"
                            "help":"jcu-self-submission.field.help.vivo-Location",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.bibo-Website.dc-identifier",
                            "help":"jcu-self-submission.field.help.bibo-Website.dc-identifier",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"bibo:Website",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"", "class-list":"jaffa-field", "suffix":"dc:identifier", "size":"60", "placeholder":"url"}}
                                                ]
                                           },
                            "add-item-text":"Add url",                                           
                            "additional-classes":"containerLayout"                                           
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.vivo-Location.vivo-GeographicLocation.gn-name",
                            "help":"jcu-self-submission.field.help.vivo-Location.vivo-GeographicLocation.gn-name",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"textarea",
                            "field-name":"vivo:Location.vivo:GeographicLocation.gn:name",
                            "label":"",
                            "content":"",
                            "placeholder":"e.g. Biology Lab 1 Room 126, Biological Sciences Building 34, James Cook University, Townsville Campus"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.redbox.retentionPeriod",
                            "help":"jcu-self-submission.field.help.redbox.retentionPeriod",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"dropdown-fixedvalue",
                            "field-name":"redbox:retentionPeriod",
                            "label":"",
                            "options":[
                                {
                                    "value":"",
                                    "label":"Please select one...",
                                    "default":"true"
                                },
                                {
                                    "value":"12 months (minor project)",
                                    "label":"12 months (minor project)"
                                },
                                {
                                    "value":"5 years (minimum for projects with publications)",
                                    "label":"5 years (minimum for projects with publications)"
                                },
                                {
                                    "value":"7 years",
                                    "label":"7 years"
                                },
                                {
                                    "value":"10 years",
                                    "label":"10 years"
                                },
                                {
                                    "value":"15 years (all clinical trials)",
                                    "label":"15 years (all clinical trials)"
                                },
                                {
                                    "value":"Indefinitely",
                                    "label":"Indefinitely"
                                }
                            ],
                            "validation": {
                                            "save-rules": ["required"],
                                            "validation-id": "redbox:retentionPeriod",
                                            "focus-id": "redbox:retentionPeriod",
                                            "validation-messages":{"required": "Please select the applicable Retention Period"}
                                           }                        
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-extent",
                            "help":"jcu-self-submission.field.help.dc-extent",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:extent",
                            "label":"",
                            "size":"60", 
                            "placeholder":"quantity"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.locrel-own.foaf-Agent.foaf-name"
                            "help":"jcu-self-submission.field.help.locrel-own.foaf-Agent.foaf-name",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"locrel:own.foaf:Agent",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"", "class-list":"jaffa-field", "suffix":"foaf:name", "size":"60", "default-value":"James Cook University"}}
                                                ]
                                           },
                            "add-item-text":"Add owner",                                           
                            "additional-classes":"containerLayout"        
                        },
                        {
                            "component-type":"text-block",
                            "type":"h5",
                            "content":"Attachments widget. need to add it if possible."
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button><button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"Associations",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.foaf-fundedBy.vivo-Grant"
                            "help":"jcu-self-submission.field.help.foaf-fundedBy.vivo-Grant",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"foaf:fundedBy.vivo:Grant",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"Internal ?", "type":"checkbox", "class-list":"jaffa-field internal-grant", "suffix":"redbox:internalGrant"}},
                                                {"jaffaText":{"label":"Number", "class-list":"jaffa-field autocomplete-grant", "suffix":"redbox:grantNumber", "size":"20"}},
                                                {"jaffaText":{"label":"", "type":"hidden", "class-list":"jaffa-field autocomplete-grant-identifier", "suffix":"dc:identifier"}},
                                                {"jaffaText":{"label":"Title", "class-list":"jaffa-field autocomplete-grant-label", "suffix":"skos:prefLabel", "size":"100"}}
                                           ]},
                            "add-item-text":"Add grant",                                           
                            "additional-classes":"containerLayout"        
                        },                        
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-relation.swrc-Publication",
                            "help":"jcu-self-submission.field.help.dc-relation.swrc-Publication",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:relation.swrc:Publication",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"URL: ", "class-list":"jaffa-field", "suffix":"dc:identifier", "size":"60", "placeholder":"publication url"}},
                                                {"jaffaText":{"label":"Title: ", "class-list":"jaffa-field", "suffix":"dc:title", "size":"60", "placeholder":"title"}},
                                                {"jaffaText":{"label":"Notes: ", "class-list":"jaffa-field", "suffix":"skos:note", "size":"60", "placeholder":"notes"}}
                                                ]
                                           },
                            "add-item-text":"Add publication",                                            
                            "additional-classes":"containerLayout"                                           
                        },           
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-relation.bibo-Website",
                            "help":"jcu-self-submission.field.help.dc-relation.bibo-Website",
                            "additional-class":"jcuFieldLabel"
                        },                
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:relation.bibo:Website",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"URL: ", "class-list":"jaffa-field", "suffix":"dc:identifier", "size":"60", "placeholder":"website url"}},
                                                {"jaffaText":{"label":"Title: ", "class-list":"jaffa-field", "suffix":"dc:title", "size":"60", "placeholder":"title"}},
                                                {"jaffaText":{"label":"Notes: ", "class-list":"jaffa-field", "suffix":"skos:note", "size":"60", "placeholder":"notes"}}
                                                ]
                                           },
                            "add-item-text":"Add website",                                            
                            "additional-classes":"containerLayout"                                           
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-relation.vivo-Dataset",
                            "help":"jcu-self-submission.field.help.dc-relation.vivo-Dataset",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:relation.vivo:Dataset",
                            "sub-elements":{"settings":[
                                                {"jaffaDropDown":{"label":"Relationship:", "suffix":"vivo:Relationship.rdf:PlainLiteral", "field":"vivo:Relationship.rdf:PlainLiteral", "label-field":"vivo:Relationship.skos:prefLabel", 
                                                                  "label-field-suffix":"vivo:Relationship.skos:prefLabel", "json-data-url":"$portalPath/workflows/forms/data/collectionRelationTypes.json", 
                                                                  "data-id-key":"id", "data-label-key":"label", "data-list-key":"results", "mandatory":"true"}},                            
                                                {"jaffaText":{"label":"Title: ", "class-list":"jaffa-field collectionTitleLookup", "suffix":"dc:title", "size":"40", "placeholder":"title"}},
                                                {"jaffaText":{"label":"Identifier: ", "class-list":"jaffa-field", "suffix":"dc:identifier", "size":"40"}},
                                                {"jaffaText":{"label":"Notes: ", "class-list":"jaffa-field", "suffix":"skos:note", "size":"40", "placeholder":"notes"}},
                                                {"jaffaText":{"label":"Local related data", "class-list":"jaffa-field", "type":"checkbox", "checked":"checked", "suffix":"redbox:origin"}},
                                                {"jaffaText":{"label":"publish to RDA", "class-list":"jaffa-field", "type":"checkbox", "checked":"checked", "suffix":"redbox:publish"}}
                                                ]
                                           },
                            "add-item-text":"Add data",                                            
                            "additional-classes":"containerLayout"                                           
                        },           
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-relation.vivo-Service",
                            "help":"jcu-self-submission.field.help.dc-relation.vivo-Service",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:relation.vivo:Service",
                            "sub-elements":{"settings":[
                                                {"jaffaDropDown":{"label":"Relationship:", "suffix":"vivo:Relationship.rdf:PlainLiteral", "field":"vivo:Relationship.rdf:PlainLiteral", "label-field":"vivo:Relationship.skos:prefLabel", 
                                                                  "label-field-suffix":"vivo:Relationship.skos:prefLabel", "json-data-url":"$portalPath/workflows/forms/data/serviceRelationTypes.json", 
                                                                  "data-id-key":"id", "data-label-key":"label", "data-list-key":"results", "mandatory":"true"}},                            
                                                {"jaffaText":{"label":"Title: ", "class-list":"jaffa-field serviceTitleLookup", "suffix":"dc:title", "size":"40", "placeholder":"title"}},
                                                {"jaffaText":{"label":"Identifier: ", "class-list":"jaffa-field", "suffix":"dc:identifier", "size":"40", "placeholder":"service identifier"}},
                                                {"jaffaText":{"label":"Notes: ", "class-list":"jaffa-field", "suffix":"skos:note", "size":"40", "placeholder":"notes"}}
                                                ]
                                           },
                            "add-item-text":"Add service",                                            
                            "additional-classes":"containerLayout"                                           
                        },           
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button><button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"Keywords",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-subject.anzsrc-for",
                            "help":"jcu-self-submission.field.help.dc-subject.anzsrc-for",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"repeatable-anzsrc-selection",
                            "fieldName":"dc:subject.anzsrc:for",
                            "sourceUrl":"proxyGet.script?ns=ANZSRC_FOR&qs=count%3D999%26level%3D",
                            "validation": {
        									"save-rules": ["required"],
        									"validation-id": "dc:subject.anzsrc:for.1.rdf:resource",
        									"focus-id": "dc:subject.anzsrc:for.1..top.dropdown",
        									 "validation-messages":{"required": "At least one Field of Research is required"}
    				    				}
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-subject.anzsrc-seo",
                            "help":"jcu-self-submission.field.help.dc-subject.anzsrc-seo",
                            "additional-class":"jcuFieldLabel"
                        },                        
                        {
                            "component-type":"repeatable-anzsrc-selection",
                            "fieldName":"dc:subject.anzsrc:seo",
                            "sourceUrl":"proxyGet.script?ns=ANZSRC_SEO&qs=count%3D999%26level%3D"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.jcu-research.themes",
                            "help":"jcu-self-submission.field.help.jcu-research.themes",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type": "checkbox2",
                            "box-for": "",
                            "multiline": true,
                            "boxes": [
                                {
                                    "label": "Tropical Ecosystems, Conservation and Climate Change",
                                    "field-name": "jcu:research.themes.tropicalEcoSystems",
                                    "checkbox-id": "jcu:research.themes.tropicalEcoSystems",
                                    "value": "on",
                                    "additional-classes":"clearNotAligned"
                                },
                                {
                                    "label": "Industries and Economies in the Tropics",
                                    "field-name": "jcu:research.themes.industriesEconomies",
                                    "checkbox-id": "jcu:research.themes.industriesEconomies",
                                    "value": "on",
                                    "additional-classes":"clearNotAligned"
                                },
                                {
                                    "label": "People and Societies in the Tropics",
                                    "field-name": "jcu:research.themes.peopleSocieties",                                    
                                    "checkbox-id": "jcu:research.themes.peopleSocieties",
                                    "value": "on",
                                    "additional-classes":"clearNotAligned"
                                },
                                {
                                    "label": "Tropical Health, Medicine and Biosecurity",
                                    "field-name": "jcu:research.themes.tropicalHealth",                                    
                                    "checkbox-id": "jcu:research.themes.tropicalHealth",
                                    "value": "on",
                                    "additional-classes":"clearNotAligned"
                                },
                                {
                                    "label": "Not aligned to a University theme",
                                    "field-name": "jcu:research.themes.notAligned",                                    
                                    "checkbox-id": "jcu:research.themes.notAligned",
                                    "value": "on",
                                    "additional-classes":"clearOtherSelections"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<script type='text/javascript'>
                                            $(document).ready(function(){
                                                v2.Validator.add({
                                                    name: 'tropicalThemesOr',
                                                    acceptEmpty: false,
                                                    fn: function(field, value, params) {
                                                        // Get the values from Jaffa
                                                        var orField1 = jaffa.form.value(params[0]);
                                                        var orField2 = jaffa.form.value(params[1]);
                                                        var orField3 = jaffa.form.value(params[2]);
                                                        var orField4 = jaffa.form.value(params[3]);
                                                        var orField5 = jaffa.form.value(params[4]);     
                                                        return (orField1 || orField2 || orField3 || orField4 || orField5);
                                                    }
                                                });
                                                jaffa.valid.addNewRule('tropicalThemesOrRule', 'tropicalThemesOr', ['jcu:research.themes.tropicalEcoSystems', 'jcu:research.themes.industriesEconomies', 'jcu:research.themes.peopleSocieties', 'jcu:research.themes.tropicalHealth', 'jcu:research.themes.notAligned']);
                                                jaffa.valid.setSaveRules('jcu:research.themes.tropicalEcoSystems', ['tropicalThemesOrRule'], null, validationFail);
                                            });                                            
                                            var validation = {};
                                            validationMessages = jQuery.parseJSON('{\"tropicalThemesOrRule\":\"At least one Research Theme must be selected\"}');
                                            validation['validationMessages'] = validationMessages;
                                            validation['focusId'] = 'jcu:research.themes.tropicalEcoSystems';
                                            validationFieldMap['jcu:research.themes.tropicalEcoSystems'] = validation; 
                                       </script>"
                        },                        
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-subject.vivo-keyword",
                            "help":"jcu-self-submission.field.help.dc-subject.vivo-keyword",
                            "additional-class":"jcuFieldLabel"
                        },                        
                        {
                            "component-type":"repeatable-container",
                            "containter-for":"dc:subject.vivo:keyword",
                            "sub-elements":{"settings":[
                                                {"jaffaText":{"label":"", "class-list":"jaffa-field", "suffix":"rdf:PlainLiteral", "size":"60", "placeholder":"keyword"}}
                                                ]
                                           },
                            "add-item-text":"Add keyword",                                                
                            "additional-classes":"containerLayout"
                            "validation": {
        									"save-rules": ["required"],
        									"validation-id": "dc:subject.vivo:keyword.1.rdf:PlainLiteral",
        									"focus-id": "dc:subject.vivo:keyword.1.rdf:PlainLiteral",
        									 "validation-messages":{"required": "At least one keyword is required"}
    				    				}
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button><button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"Rights",
                    "fields":[
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-accessRights.heading",
                            "help":"jcu-self-submission.field.help.dc-accessRights.heading",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-accessRights.skos-prefLabel",
                            "help":"jcu-self-submission.field.help.dc-accessRights.skos-prefLabel",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"dropdown-fixedvalue",
                            "field-name":"accessRight-selection",
                            "label":"",
                            "options":[
                                {
                                    "value":"",
                                    "label":"Please select one...",
                                    "default":"true"
                                },
                                {
                                    "value":"Open access. If the data is not freely accessible via the link provided, please contact the nominated data manager or researchdata@jcu.edu.au for assistance.",
                                    "label":"Open access. If the data is not freely accessible via the link provided, please contact the nominated data manager or researchdata@jcu.edu.au for assistance."
                                },
                                {
                                    "value":"Please contact the data manager or nominated primary contact to negotiate access to this data. If you have difficulty, please contact researchdata@jcu.edu.au for assistance.",
                                    "label":"Please contact the data manager or nominated primary contact to negotiate access to this data. If you have difficulty, please contact researchdata@jcu.edu.au for assistance."
                                },
                                {
                                    "value":"Restricted access. Login authentication is required to access the data - please contact the data manager or nominated primary contact to negotiate access. If you have difficulty, please contact researchdata@jcu.edu.au for assistance.",
                                    "label":"Restricted access. Login authentication is required to access the data - please contact the data manager or nominated primary contact to negotiate access. If you have difficulty, please contact researchdata@jcu.edu.au for assistance."
                                },
                                {
                                    "value":"Dataset contains confidential or sensitive information. No access to data is permitted. Contact data manager for more information.",
                                    "label":"Dataset contains confidential or sensitive information. No access to data is permitted. Contact data manager for more information."
                                }
                                {
                                    "value":"manual",
                                    "label":"Other",
                                },
                            ]
                        },
                        {
                            "component-type":"textarea",
                            "field-name":"dc:accessRights.skos:prefLabel",
                            "label":"",
                            "placeholder":"eg. Contact Chief Investigator to negotiate access to the data."
                        },                      
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-accessRights.dc-identifier",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:accessRights.dc:identifier",
                            "label":"",
                            "size":"60",
                            "placeholder":"Access Rights URI"
                        },                      
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-accessRights.dc-RightsStatement.skos-prefLabel",
                            "help":"jcu-self-submission.field.help.dc-accessRights.dc-RightsStatement.skos-prefLabel",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:accessRights.dc:RightsStatement.skos:prefLabel",
                            "label":"",
                            "size":"60",                            
                            "placeholder":"eg. This dataset is made available under the Public Domain Dedication and License v1.0"
                        },                      
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-accessRights.dc-RightsStatement.dc-identifier",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:accessRights.dc:RightsStatement.dc:identifier",
                            "label":"",
                            "size":"60",                            
                            "placeholder":"Rights Statement URI"
                        },
                        {
                            "component-type":"native-html",
                            "content":"<script type='text/javascript'>
                                            $(document).ready(function(){
                                                v2.Validator.add({
                                                    name: 'accessRightsOr',
                                                    acceptEmpty: false,
                                                    fn: function(field, value, params) {
                                                        // Get the values from Jaffa
                                                        var orField1 = jaffa.form.value(params[0]);
                                                        var orField2 = jaffa.form.value(params[1]);
                                                        return (orField1 || orField2);
                                                    }
                                                });
                                                jaffa.valid.addNewRule('accessRightsOrRule', 'accessRightsOr', ['dc:accessRights.skos:prefLabel', 'dc:accessRights.dc:RightsStatement.skos:prefLabel']);
                                                jaffa.valid.setSaveRules('dc:accessRights.skos:prefLabel', ['accessRightsOrRule'], null, validationFail);
                                            });                                            
                                            var validation = {};
                                            validationMessages = jQuery.parseJSON('{\"accessRightsOrRule\":\"One of these fields must be completed: \'Access Rights\/Conditions\' or \'Rights\'\"}');
                                            validation['validationMessages'] = validationMessages;
                                            validation['focusId'] = 'dc:accessRights.skos:prefLabel';
                                            validationFieldMap['dc:accessRights.skos:prefLabel'] = validation; 
                                       </script>"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-license.skos-prefLabel",
                            "help":"jcu-self-submission.field.help.dc-license.skos-prefLabel",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"data-source-dropdown",
                            "label":"",
                            "field-name":"dc:license.dc:identifier",
                            "field-name-label":"dc:license.skos:prefLabel",
                            "sourceUrl":"workflows/forms/data/licences.json",
                            "idKey":"id",
                            "labelKey":"label",
                            "listKey":"results",
                            "lookup-parser": {
                                "results-path": ["results"],
                                "fields": {
                                    "id": ["id"],
                                    "label": ["label"],
                                    "description": ["description"]
                                },
                                "outputs": {
                                    "label": "${description}",
                                    "value": "${id}",
                                    "#lookupLicenceOutput": "${description}"
                                }
                            }
                        },    
                        {
                            "component-type":"native-html"
                            "content":"<div><blockquote rows='4' cols='100' readonly='readonly' id='lookupLicenceOutput'></blockquote></div>"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-license.rdf-Alt.heading"
                            "help":"jcu-self-submission.field.help.dc-license.rdf-Alt.heading",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-license.rdf-Alt.skos-prefLabel",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:license.rdf:Alt.skos:prefLabel",
                            "label":"",
                            "size":"60",                            
                            "placeholder":"licence name"
                        },                      
                        {
                            "component-type":"text-block",
                            "type":"label",
                            "content":"jcu-self-submission.field.label.dc-license.rdf-Alt.dc-identifier",
                            "additional-class":"jcuFieldLabel"
                        },
                        {
                            "component-type":"text-input",
                            "field-name":"dc:license.rdf:Alt.dc:identifier",
                            "label":"",
                            "size":"60",                            
                            "placeholder":"licence url"
                        },                         
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button><button class='nexttab'>Next</button>"
                        }
                    ]
                },
                {
                    "heading":"Final",
                    "fields":[
                        {
                            "component-type":"textarea",
                            "label":"",
                            "field-name":"",
                            "content":"jcu-self-submission.field.label.LegalStatement",
                        },
						{
							"component-type": "checkbox",
							"field-name": "readyforreview",
							"box-for": "",
							"boxes": [
								{
									"label": "self-submission.field.label.readyforreview",
									"value": "ready"
								}
							]
						},
                        {
                            "component-type":"native-html",
                            "content":"<button class='prevtab'>Previous</button>"
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Save and close",
                                    "form-submit-action": "save",
                                    "type": "button",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                            ]
                        },
                        {
                            "component-type": "transition-control",
                            "transitions": [
                                {
                                    "name": "Submit",
                                    "type": "button",
                                    "form-submit-action": "save-next",
									"close": true,
									"closeUrl": "dmpt/details"
                                }
                             ]
                        },
                        {
                            "component-type":"native-html",
                            "content":"<script>$(document).ready(function() {
                                        wizardTabIdentifier='jcu-self-submissionWorkflowTab'; 
                                        //The anonymous function below is called when the user clicks on a new tab. It validates all fields on the current tab, if valid, the clicked tab is selected 
                                        jaffa.ui.changeToTabLayout($('#simpleworkflow-form'),
                                                                   'h1',
                                                                   function(){
                                                                               var validationPassed = validateTab();
                                                                               if  (validationPassed){
                                                                                   jaffa.form.save();
                                                                                }
                                                                                else{
                                                                                   event.stopPropagation();
                                                                                   return false;
                                                                                }
                                                                   }, 
                                                                   wizardTabIdentifier);})</script>"
                       }
                    ]
                }
            ],
            "buttons":[
            ],
            "form-footer":"jcu-self-submissionform-footer",            
            "validation":{
                "required":"title"
            }
        }
    }
}